<div>
  <div class="modal-backdrop fade in"></div>
  <div class="modal fade in">
    <div class="modal-dialog">
      <div class="modal-content">

        <div class="modal-header">
          <button type="button" class="close" ng-click="closeTemplate()"><span>&times;</span></button>
          <h4 class="modal-title">{{ msg.transactionNumber | translate:lang }} {{ transaction.number | translate:lang }}</h4>
        </div>
        
        <div class="modal-body">
          
          <form name="formTransaction" class="form-horizontal">
            <div class="form-group">
              <label for="chiefOfVillage" class="col-sm-5 control-label">{{ msg.chiefOfVillage | translate:lang }}</label>
              <div class="col-sm-7">
                <input type="text" class="form-control" name="chiefOfVillage" ng-model="transaction.chiefOfVillage" placeholder="{{ msg.chiefOfVillage | translate:lang }}">
              </div>
            </div>
            <div class="form-group">
              <label for="resortManager" class="col-sm-5 control-label">{{ msg.resortManager | translate:lang }}</label>
              <div class="col-sm-7">
                <input type="text" class="form-control" name="resortManager" ng-model="transaction.resortManager" placeholder="{{ msg.resortManager | translate:lang }}">
              </div>
            </div>
            <div class="form-group">
              <label for="resort" class="col-sm-5 control-label">{{ msg.resort | translate:lang }}</label>
              <div class="col-sm-7">
                <input type="text" class="form-control" name="resort" ng-model="transaction.resort" placeholder="{{ msg.resort | translate:lang }}">
              </div>
            </div>
            <!--div class="form-group">
              <label for="salePerson" class="col-sm-5 control-label">{{ msg.salePerson | translate:lang }}</label>
              <div class="col-sm-7">
                <input type="text" class="form-control" name="salePerson" ng-model="transaction.salePerson" placeholder="{{ msg.salePerson | translate:lang }}" readonly>
              </div>
            </div>
            <div class="form-group">
              <label for="executivePerson" class="col-sm-5 control-label">{{ msg.executivePerson | translate:lang }}</label>
              <div class="col-sm-7">
                <input type="text" class="form-control" name="executivePerson" ng-model="transaction.executivePerson" placeholder="{{ msg.executivePerson | translate:lang }}" readonly>
              </div>
            </div>
            <div class="form-group">
              <label for="eventManager" class="col-sm-5 control-label">{{ msg.eventManager | translate:lang }}</label>
              <div class="col-sm-7">
                <input type="text" class="form-control" name="eventManager" ng-model="transaction.eventManager" placeholder="{{ msg.eventManager | translate:lang }}" readonly>
              </div>
            </div-->
            <div class="form-group">
              <label for="company" class="col-sm-5 control-label">{{ msg.company | translate:lang }}</label>
              <div class="col-sm-7">
                <input type="text" class="form-control" name="company" ng-model="transaction.company" placeholder="{{ msg.company | translate:lang }}">
              </div>
            </div>
            <div class="form-group">
              <label for="remarks" class="col-sm-5 control-label">{{ msg.remarks | translate:lang }}</label>
              <div class="col-sm-7">
                <input type="text" class="form-control" name="remarks" ng-model="transaction.remarks" placeholder="{{ msg.remarks | translate:lang }}">
              </div>
            </div>

            <div class="form-group">
              <label for="companyActivity" class="col-sm-5 control-label">{{ msg.companyActivity | translate:lang }}</label>
              <div class="col-sm-7">
                <select class="form-control" name="companyActivity" ng-model="transaction.companyActivity">
                  <option value="companyActivityTravelAgency">{{ msg.companyActivityTravelAgency | translate:lang }}</option>
                  <option value="companyActivityIndustry">{{ msg.companyActivityIndustry | translate:lang }}</option>
                  <option value="other">{{ msg.other | translate:lang }}</option>
                </select>
              </div>
            </div>
            <div class="form-group" ng-show="transaction.companyActivity == 'other'" ng-class="{'has-error': formTransaction.companyActivityOther.$invalid}">
              <label for="companyActivityOther" class="col-sm-5 control-label"></label>
              <div class="col-sm-7">
                <input type="text" class="form-control" name="companyActivityOther" ng-model="transaction.companyActivityOther" placeholder="{{ msg.companyActivity | translate:lang }}" ng-required="transaction.companyActivity == 'other'">
              </div>
            </div>

            <div class="form-group">
              <label for="aimOfMeeting" class="col-sm-5 control-label">{{ msg.aimOfMeeting | translate:lang }}</label>
              <div class="col-sm-7">
                <select class="form-control" name="aimOfMeeting" ng-model="transaction.aimOfMeeting">
                  <option value="aimOfMeetingChallenge">{{ msg.aimOfMeetingChallenge | translate:lang }}</option>
                  <option value="aimOfMeetingRelaxation">{{ msg.aimOfMeetingRelaxation | translate:lang }}</option>
                  <option value="aimOfMeetingSeminar">{{ msg.aimOfMeetingSeminar | translate:lang }}</option>
                  <option value="aimOfMeetingReward">{{ msg.aimOfMeetingReward | translate:lang }}</option>
                  <option value="aimOfMeetingUniteTeams">{{ msg.aimOfMeetingUniteTeams | translate:lang }}</option>
                  <option value="aimOfMeetingCustomersTravel">{{ msg.aimOfMeetingCustomersTravel | translate:lang }}</option>
                  <option value="aimOfMeetingProductLaunch">{{ msg.aimOfMeetingProductLaunch | translate:lang }}</option>
                  <option value="aimOfMeetingConvention">{{ msg.aimOfMeetingConvention | translate:lang }}</option>
                  <option value="aimOfMeetingTraining">{{ msg.aimOfMeetingTraining | translate:lang }}</option>
                  <option value="aimOfMeetingTeamBuilding">{{ msg.aimOfMeetingTeamBuilding | translate:lang }}</option>
                  <option value="other">{{ msg.other | translate:lang }}</option>
                </select>
              </div>
            </div>
            <div class="form-group" ng-show="transaction.aimOfMeeting == 'other'" ng-class="{'has-error': formTransaction.aimOfMeetingOther.$invalid}">
              <label for="aimOfMeetingOther" class="col-sm-5 control-label"></label>
              <div class="col-sm-7">
                <input type="text" class="form-control" name="aimOfMeetingOther" ng-model="transaction.aimOfMeetingOther" placeholder="{{ msg.aimOfMeeting | translate:lang }}" ng-required="transaction.aimOfMeeting == 'other'">
              </div>
            </div>

            <!-- Leaders -->
            <div  ng-repeat="leader in transaction.leaders">
              <div class="form-group"  ng-class="{'has-error': formTransaction.leaderName{{$index}}.$invalid}">
                <label for="leaderName" class="col-sm-5 control-label">{{ msg.leaderName | translate:lang }}</label>
                <div class="col-sm-7">
                  <div class="input-group">
                    <input type="text" class="form-control" name="leaderName{{$index}}" ng-model="leader.leaderName" placeholder="{{ msg.leaderName | translate:lang }}" ng-required="leader.leaderFunction">
                    <span class="input-group-btn">
                      <button ng-show="$first" class="btn btn-default" type="button" ng-click="addLeader()" ng-disabled="transaction.leaders.length > 4"><span class="glyphicon glyphicon-plus"></span></button>
                      <button ng-hide="$first" class="btn btn-default" type="button" ng-click="removeLeader($index)"><span class="glyphicon glyphicon-remove"></span></button>
                    </span>
                  </div><!-- /input-group -->
                </div>
              </div>
              <div class="form-group">
                <label for="leaderFunction" class="col-sm-5 control-label">{{ msg.leaderFunction | translate:lang }}</label>
                <div class="col-sm-7">
                  <select class="form-control" name="leaderFunction" ng-model="leader.leaderFunction">
                    <option value="leaderFunctionDirector">{{ msg.leaderFunctionDirector | translate:lang }}</option>
                    <option value="leaderFunctionManager">{{ msg.leaderFunctionManager | translate:lang }}</option>
                    <option value="other">{{ msg.other | translate:lang }}</option>
                  </select>
                </div>
              </div>
              <div class="form-group" ng-show="leader.leaderFunction == 'other'" ng-class="{'has-error': formTransaction.leaderFunctionOther{{$index}}.$invalid}">
                <label for="leaderFunctionOther" class="col-sm-5 control-label"></label>
                <div class="col-sm-7">
                  <input type="text" class="form-control" name="leaderFunctionOther{{$index}}" ng-model="leader.leaderFunctionOther" placeholder="{{ msg.leaderFunction | translate:lang }}" ng-required="leader.leaderFunction == 'other'">
                </div>
              </div>
            </div><!-- Leaders -->

            <div class="form-group" ng-class="{'has-error': formTransaction.dateFrom.$invalid}">
              <label for="dateFrom" class="col-sm-5 control-label">{{ msg.dateFrom | translate:lang }}</label>
              <div class="col-sm-7">
                <div class="input-group">
                  <input type="date" class="form-control" name="dateFrom" ng-model="transaction.dateFrom" placeholder="{{ msg.formatDate | translate:lang }}" required>
                  <div data-date-picker data-model="transaction.dateFrom" data-lang="{{ lang }}" data-msg="msg"></div>
                </div>
              </div>
            </div>

            <div class="form-group"  ng-class="{'has-error': formTransaction.dateTo.$invalid}">
              <label for="dateTo" class="col-sm-5 control-label">{{ msg.dateTo | translate:lang }}</label>
              <div class="col-sm-7">
                <div class="input-group">
                  <input type="date" class="form-control" name="dateTo" ng-model="transaction.dateTo" placeholder="{{ msg.formatDate | translate:lang }}" required>
                  <div data-date-picker data-model="transaction.dateTo" data-lang="{{ lang }}" data-msg="msg"></div>
                </div>
              </div>
            </div>

            <div class="form-group"  ng-class="{'has-error': formTransaction.nbPaxRealNa.$invalid}">
              <label for="nbPaxRealNa" class="col-sm-5 control-label">{{ msg.numbreOfPeople | translate:lang }}</label>
              <div class="col-sm-7">
                <input type="number" class="form-control" name="nbPaxRealNa" ng-model="transaction.nbPaxRealNa" placeholder="{{ msg.numbreOfPeople | translate:lang }}" ng-pattern="/^[0-9]*$/">
              </div>
            </div>

            <div class="form-group"  ng-class="{'has-error': formTransaction.numberLinked.$invalid}">
              <label for="numberLinked" class="col-sm-5 control-label">{{ msg.transactionNumberLinked | translate:lang }}</label>
              <div class="col-sm-7">
                <input type="text" class="form-control" name="numberLinked" ng-model="transaction.numberLinked" placeholder="{{ msg.transactionNumberLinked | translate:lang }}">
              </div>
            </div>

          </form>

        </div>
        
        <div class="modal-footer">
          <button type="button" class="btn btn-default" ng-click="closeTemplate()">{{ msg.close | translate:lang }}</button>
          <button type="button" class="btn btn-primary" ng-click="saveTransaction(transaction)" ng-disabled="formTransaction.$invalid">{{ msg.save | translate:lang }}</button>
        </div>

      </div>
    </div>
  </div>
</div>
